(this["webpackJsonpmalayali-meet"]=this["webpackJsonpmalayali-meet"]||[]).push([[0],[,function(e,t,a){e.exports={container:"style_container__1yda0",closeChat:"style_closeChat__3vfV5",chatDiv:"style_chatDiv__1XJFf",chat:"style_chat__3eE5k",name:"style_name__uEsHP",message:"style_message__1UbXk",time:"style_time__3I85z",chatFormDiv:"style_chatFormDiv__S1rDn",chatForm:"style_chatForm__1j34S",chatInput:"style_chatInput__2pPY7",chatSubmitBtn:"style_chatSubmitBtn__3ZUTe",chatContainerSpecialLandScape:"style_chatContainerSpecialLandScape__13M_x",chatContainerSpecialPortrait:"style_chatContainerSpecialPortrait__2I5v1"}},,function(e,t,a){e.exports={container:"style_container__dnf22",closeChat:"style_closeChat__185Q5",usersDiv:"style_usersDiv__1axSt",user:"style_user__eB7Xi",name:"style_name__2KvVl",audio:"style_audio__3xKN-",video:"style_video__26rCO"}},,function(e,t,a){e.exports={container:"style_container__2XDn8",tools:"style_tools__3IKGT",toolIcons:"style_toolIcons__3tejr"}},,,function(e,t,a){e.exports={videoSmall:"style_videoSmall__17pjw",fullScreenBtn:"style_fullScreenBtn__3Qze2",nameOnNoVideo:"style_nameOnNoVideo__8uaXt",nameOnVideo:"style_nameOnVideo__TBMhj"}},,,function(e,t,a){e.exports={VideoSmalls:"style_VideoSmalls__kmXCK"}},,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var o=a(2),n=a.n(o),s=a(10),c=a.n(s),i=(a(17),a(4)),r=a(8),l=a.n(r),d=a(0),u=function(e){var t=Object(o.useState)(!1),a=Object(i.a)(t,2),n=a[0],s=a[1],c=function(t,a){var o=t.target.parentElement,c=o.querySelector("#i-".concat(e.id));if(a&&(o=t.target),n){o.style.width="28rem",o.style.height="21rem",c.classList.add("fa-expand"),c.classList.remove("fa-compress"),s(!1);var i=o.parentElement;i.insertBefore(o,i.childNodes[i.childNodes.length])}else{o.style.width="200vh",o.style.height="100vh",c.classList.remove("fa-expand"),c.classList.add("fa-compress"),s(!0);var r=o.parentElement;r.insertBefore(o,r.childNodes[0])}window.scrollTo(0,0)};return Object(o.useEffect)((function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var t=0;document.getElementById(e.id).addEventListener("click",(function(e){0===t?t=(new Date).getTime():(new Date).getTime()-t<800?(c(e,!0),t=0):t=(new Date).getTime()}))}else console.log("not mobile device")}),[e.id]),Object(d.jsxs)("div",{id:e.id,className:l.a.videoSmall,onDoubleClick:function(e){return c(e,!0)},children:[Object(d.jsx)("h2",{className:"".concat(l.a.nameOnNoVideo," "),children:e.name}),Object(d.jsx)("i",{id:"i-".concat(e.id),onClick:c,className:"fas fa-expand ".concat(l.a.fullScreenBtn)})]})},p=a(11),h=a.n(p),m=function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{id:"VideoSmalls",className:h.a.VideoSmalls,style:{position:"relative"},children:e.users.map((function(e){return Object(d.jsx)(u,{id:e.id,name:e.name},e.id)}))})})},f=a(5),v=a.n(f),j=function(e){var t=e.toolBarProps,a=t.audio,o=t.video,n=t.chatOpen,s=t.usersOpen,c=function(e){document.getElementById("tools").style.opacity=e?"1":"0.3"};return Object(d.jsx)("div",{className:v.a.container,onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},style:{zIndex:"2"},children:Object(d.jsxs)("div",{id:"tools",className:v.a.tools,children:[Object(d.jsx)("i",{className:"fas ".concat(a?"fa-microphone":"fa-microphone-slash","  ").concat(v.a.toolIcons),onClick:function(){a?e.setToolBarProps("audio",!1):e.setToolBarProps("audio",!0)}}),Object(d.jsx)("i",{className:"fas ".concat(o?"fa-video":"fa-video-slash"," ").concat(v.a.toolIcons),onClick:function(){o?e.setToolBarProps("video",!1):e.setToolBarProps("video",!0)}}),Object(d.jsx)("i",{className:"fas fa-comments ".concat(v.a.toolIcons),onClick:function(){n?e.setToolBarProps("chatOpen",!1):(s&&(e.setToolBarProps("usersOpen",!1),e.setToolBarProps("audio",a)),e.setToolBarProps("chatOpen",!0))}}),Object(d.jsx)("i",{className:"fas fa-users ".concat(v.a.toolIcons),onClick:function(){s?e.setToolBarProps("usersOpen",!1):(n&&(e.setToolBarProps("chatOpen",!1),e.setToolBarProps("audio",a)),e.setToolBarProps("usersOpen",!0))}})]})})},_=a(12),O=a(1),b=a.n(O),x=function(e){setTimeout((function(){var e=document.getElementById("chatContainer"),t=document.getElementById("chatInputId");window.screen.width<=370?(t.addEventListener("focusin",(function(){e.classList.add(b.a.chatContainerSpecialPortrait)})),t.addEventListener("focusout",(function(){e.classList.remove(b.a.chatContainerSpecialPortrait)}))):window.screen.width<=640&&(t.addEventListener("focusin",(function(){e.classList.add(b.a.chatContainerSpecialLandScape)})),t.addEventListener("focusout",(function(){e.classList.remove(b.a.chatContainerSpecialLandScape)})))}),100);var t=function(){setTimeout((function(){var e=document.getElementById("chatDivId");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),100)};t();return Object(d.jsxs)("div",{id:"chatContainer",className:b.a.container,children:[Object(d.jsx)("h1",{children:"Chat"}),Object(d.jsx)("i",{className:"fas fa-times ".concat(b.a.closeChat),onClick:function(){e.setToolBarProps("chatOpen",!1)}}),Object(d.jsx)("div",{className:b.a.chatDiv,id:"chatDivId",children:e.chats.map((function(e){return Object(d.jsxs)("div",{className:b.a.chat,children:[Object(d.jsx)("p",{className:b.a.name,children:e.name}),Object(d.jsx)("pre",{className:b.a.message,children:e.msg}),Object(d.jsx)("p",{className:b.a.time,children:e.time})]},e.msg)}))}),Object(d.jsx)("div",{className:b.a.chatFormDiv,id:"chatFormId",children:Object(d.jsxs)("form",{onSubmit:function(a){a.preventDefault(),a.persist();var o=a.target.chatInput.value,n=(new Date).getHours();n>12?n-=12:0===n&&(n=12);var s=(new Date).getMinutes();s<10&&(s="0"+s);var c=n+":"+s;e.setChat((function(e){return[].concat(Object(_.a)(e),[{name:"Ajay",msg:o,time:c}])})),a.target.chatInput.value="",document.getElementById("chatFormId").classList.remove(b.a.chatFormDivSpecial),t()},className:b.a.chatForm,children:[Object(d.jsx)("textarea",{id:"chatInputId",type:"text",name:"chatInput",className:b.a.chatInput,autoComplete:"off",rows:"1"}),Object(d.jsx)("button",{id:"chatFormButton",type:"submit",style:{background:"transparent",boxShadow:"0px 0px 0px transparent",border:"0px solid transparent",textShadow:"0px 0px 0px transparent",width:"20%"},children:Object(d.jsx)("i",{className:"far fa-paper-plane ".concat(b.a.chatSubmitBtn),type:"submit"})})]})})]})},B=a(3),y=a.n(B),P=function(e){return Object(d.jsxs)("div",{id:"usersContainer",className:y.a.container,children:[Object(d.jsx)("h1",{children:"Participants"}),Object(d.jsx)("i",{className:"fas fa-times ".concat(y.a.closeChat),onClick:function(){e.setToolBarProps("usersOpen",!1)}}),Object(d.jsx)("div",{className:y.a.usersDiv,id:"chatDivId",children:e.users.map((function(e){return Object(d.jsxs)("div",{className:y.a.user,children:[Object(d.jsx)("p",{className:y.a.name,children:e.name.length>19?e.name.slice(0,19)+"...":e.name}),Object(d.jsx)("i",{className:"".concat(y.a.audio," ").concat(e.toolBarProps.audio?"fas fa-microphone":"fas fa-microphone-slash"," ")}),Object(d.jsx)("i",{className:"".concat(y.a.video," ").concat(e.toolBarProps.video?"fas fa-video":"fas fa-video-slash"," ")})]},e.name)}))})]})};var g=function(){var e=Object(o.useState)("1"),t=Object(i.a)(e,2),a=t[0],n=(t[1],Object(o.useState)(!1)),s=Object(i.a)(n,2),c=s[0],r=s[1],l=Object(o.useState)([]),u=Object(i.a)(l,2),p=u[0],h=u[1],f=Object(o.useState)([{id:"1",name:"participant 1",toolBarProps:{audio:!1,video:!1,chatOpen:!1,usersOpen:!1},setToolBarProps:function(e,t){this.toolBarProps[e]=t,r((function(e){return!e}))},socketId:"1"},{id:"2",name:"participant 2",toolBarProps:{audio:!1,video:!1,chatOpen:!1,usersOpen:!1},setToolBarProps:function(e,t){this.toolBarProps[e]=t,r(!c)},socketId:"2"},{id:"3",name:"participant 3",toolBarProps:{audio:!1,video:!1,chatOpen:!1,usersOpen:!1},setToolBarProps:function(e,t){this.toolBarProps[e]=t,r(!c)},socketId:"3"},{id:"4",name:"participant 4",toolBarProps:{audio:!1,video:!1,chatOpen:!1,usersOpen:!1},setToolBarProps:function(e,t){this.toolBarProps[e]=t,r(!c)},socketId:"4"}]),v=Object(i.a)(f,2),_=v[0],O=v[1],b=_.find((function(e){return e.socketId===a}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{users:_}),Object(d.jsx)(j,{setToolBarProps:b.setToolBarProps,toolBarProps:b.toolBarProps}),b.toolBarProps.chatOpen?Object(d.jsx)(x,{setToolBarProps:b.setToolBarProps,toolBarProps:b.toolBarProps,chats:p,setChat:h,users:_}):null,b.toolBarProps.usersOpen?Object(d.jsx)(P,{setToolBarProps:b.setToolBarProps,toolBarProps:b.toolBarProps,users:_,setUsers:O}):null]})},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function S(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/aj-meet",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/aj-meet","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var o=a.headers.get("content-type");404===a.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):S(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):S(t,e)}))}}()}],[[19,1,2]]]);
//# sourceMappingURL=main.bba1745e.chunk.js.map